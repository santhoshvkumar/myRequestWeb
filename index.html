<!doctype html>
<!--[if lte IE 9]> <html class="lte-ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html lang="en">
<!--<![endif]-->

<head>
    <link rel="manifest" href="manifest.json">
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Remove Tap Highlight on Windows Phone IE -->
    <meta name="msapplication-tap-highlight" content="no" />
    <link href="assets/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link rel="icon" type="image/png" href="assets/img/faviconMyRequest-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="assets/img/faviconMyRequest-32x32.png" sizes="32x32">


    <title>myRequest</title>
    <!-- uikit -->
    <link rel="stylesheet" href="bower_components/uikit/css/uikit.almost-flat.min.css" />
    <!-- altair admin login pagee -->
    <link rel="stylesheet" href="assets/css/main.min.css" media="all">
    <link rel="stylesheet" href="assets/css/login_page.min.css" />
    <link rel="stylesheet" href="assets/css/loginPage.css" />
    <link rel="stylesheet" type="text/css" href="assets/css/custom.css">
</head>

<body class="login_page">
     <div class="uk-margin-medium-top" style="float: right">
            <img id="selectedCountry" src="assets/img/Country/gb.png" width="100" height="100">
     </div>
    <div class="uk-margin-medium-top" style="margin-left:auto;margin-right:auto;width:150px;margin-bottom:auto;">

        <img src="assets/img/logo.png">
        <!-- <a class="md-btn md-btn-primary md-btn-block md-btn-large" id="btnLogin">Sign In</aa> -->
    </div>

    <div class="login_page_wrapper transparentBG loginContent">

        <div id="login_card" style=" margin-top: 10px; width:330px; margin:auto;">

            <div class="md-card-content large-padding" id="login_form">

                <div class="login_heading">
                    <!--<img src="assets/img/logo.png" style="width: 150px;height: 150px;" />-->

                    <!--  <h1>   <center style="color:#EBCE18 !important"> <b>myRequest</b></center> </h1>-->
                </div>

                <form>
                    <div style="text-align:center">
                        <h2 style="font-family: Avenir-Heavy;font-size: 16px;color: #FED235;line-height: 22px;"> AGENT LOGIN </h2>
                        <hr>
                    </div>

                    <div class="uk-form-row">
                        <label for="login_email" style="font-family: Avenir-Heavy;font-size: 16px;color: #f9f9f9;line-height: 22px;margin-top:-9px;"><i class="fa fa-envelope"></i> Email Address</label>

                        <input class="md-input" type="text" id="login_email" name="login_email" />
                    </div>
                    <div class="uk-form-row">
                        <label for="login_password" style="font-family: Avenir-Heavy;font-size: 16px;color: #f9f9f9;line-height: 22px;margin-top:-9px;"><i class="fa fa-lock"></i> Password</label>

                        <input class="md-input" type="password" id="login_password" name="login_username" />
                        <span class="alert-danger" style="color:red;"></span>
                    </div>
                    <div class="uk-margin-medium-top" style="margin-left:auto;margin-right:auto;text-align:center">

                        <a style="font-family: Avenir-Heavy;font-size: 16px;color: #f9f9f9;line-height: 22px;" id="btnForgetPassword">Forgot Password</a>


                    </div>
                    <div class="uk-margin-medium-top" style="font-family: Avenir-Heavy;font-size: 16px;color: #f9f9f9;line-height: 22px;">
                        <img src="assets/img/signIn.png" style="cursor:pointer;" id="btnLogin" width="1000" height="500">
                        <!-- <a class="md-btn md-btn-primary md-btn-block md-btn-large" id="btnLogin">Sign In</a> -->
                    </div>
                    <div class="uk-margin-top" style="text-align:center">

                        <span class="icheck-inline">
                            <input type="checkbox" name="login_page_stay_signed" id="login_page_stay_signed" data-md-icheck />
                            <label for="login_page_stay_signed" class="inline-label" style="font-family: Avenir-Heavy;font-size: 16px;color: #f9f9f9;line-height: 22px;">Stay signed in</label>
                         
                        </span>

                    </div>


                </form>


            </div>


            <div class="md-card-content large-padding uk-position-relative" id="login_help" style="display: none">
                <button type="button" class="uk-position-top-right uk-close uk-margin-right uk-margin-top back_to_login"></button>
                <h2 class="heading_b uk-text-success">Can't log in?</h2>
                <p>Here’s the info to get you back in to your account as quickly as possible.</p>
                <p>First, try the easiest thing: if you remember your password but it isn’t working, make sure that Caps Lock is turned off, and that your username is spelled correctly, and then try again.</p>
                <p>If your password still isn’t working, it’s time to <a href="login.html#" id="password_reset_show">reset your password</a>.</p>
            </div>
            <div class="md-card-content large-padding" id="login_password_reset" style="display: none">
                <button type="button" class="uk-position-top-right uk-close uk-margin-right uk-margin-top back_to_login"></button>
                <h2 class="heading_a uk-margin-large-bottom">Reset password</h2>
                <form>
                    <div class="uk-form-row">
                        <label for="login_email_reset">Your email address</label>
                        <input class="md-input" type="text" id="login_email_reset" name="login_email_reset" style="color:black;" />
                    </div>
                    <div class="uk-margin-medium-top">
                        <a id="btnForgetPassword" class="md-btn md-btn-primary md-btn-block">Reset password</a>
                    </div>
                </form>
            </div>
            <div class="md-card-content large-padding" id="register_form" style="display: none">
                <button type="button" class="uk-position-top-right uk-close uk-margin-right uk-margin-top back_to_login"></button>
                <h2 class="heading_a uk-margin-medium-bottom">Create an account</h2>
                <form>
                    <div class="uk-form-row">
                        <label for="register_username">Username</label>
                        <input class="md-input" type="text" id="register_username" name="register_username" />
                    </div>
                    <div class="uk-form-row">
                        <label for="register_password">Password</label>
                        <input class="md-input" type="password" id="register_password" name="register_password" />
                    </div>
                    <div class="uk-form-row">
                        <label for="register_password_repeat">Repeat Password</label>
                        <input class="md-input" type="password" id="register_password_repeat" name="register_password_repeat" />
                    </div>
                    <div class="uk-form-row">
                        <label for="register_email">E-mail</label>
                        <input class="md-input" type="text" id="register_email" name="register_email" />
                    </div>
                    <div class="uk-margin-medium-top">
                        <a href="index.html" class="md-btn md-btn-primary md-btn-block md-btn-large">Sign Up</a>
                    </div>
                </form>
            </div>
        </div>


        <!--<div class="uk-margin-top uk-text-center">
            <a href="login.html#" id="signup_form_show">Create an account</a>
        </div>-->
    </div>
    <div class="uk-margin-medium-top" style="margin-left:auto;margin-right:auto;width:200px;">

       <!-- <img id="btnSubscribe" src="assets/img/Notification.png"> -->
        <!-- <a class="md-btn md-btn-primary md-btn-block md-btn-large" id="btnLogin">Sign In</a> -->
    </div>
    <!-- <button type="button"  class="md-btn md-btn-primary btnSubmitSubscribe">Subscribe</button>   -->

    <footer style="text-align:center;bottom:5px; position:fixed;width:100%;">
        <div style="text-align:center;">
            <span style="font-family: Avenir-Heavy;font-size: 16px;color: #f9f9f9;line-height: 22px;">&#169; Copyright DIGIMOBISOL Limited </span> | <a href="https://myrequest.co.uk/TermsAndCondition.html" target="_blank" style="font-family: Avenir-Heavy;font-size: 16px;color: #f9f9f9;line-height: 22px;">Terms & Conditions</a>            &nbsp;| &nbsp; <a href="https://myrequest.co.uk/PrivacyPolicy.html" target="_blank" style="font-family: Avenir-Heavy;font-size: 16px;color: #f9f9f9;line-height: 22px;">Privacy Policy</a>
        </div>
    </footer>



    <div class="uk-modal" id="modal_ForgetPassword">
        <div class="uk-modal-dialog">
            <div class="uk-modal-header">

            </div>
            <p>
                <div class="md-card-content large-padding" id="login_PasswordReset">
                    <button type="button" class="uk-position-top-right uk-close uk-modal-close uk-margin-right uk-margin-top back_to_login"></button>

                    <form>
                        <div class="uk-form-row">
                            <label for="login_email_reset">Your email address</label>
                            <input class="md-input" type="text" id="login_EmailReset" name="login_email_reset" style="color:black" />
                        </div>
                        <div class="uk-margin-medium-top">
                            <a id="btnResetPassword" class="md-btn md-btn-primary md-btn-block">Reset password</a>
                        </div>
                        </br>
                        <span class="alert-danger" style="color:red;"></span>
                    </form>
                </div>


            </p>

        </div>
    </div>


    <div  class="uk-modal transparentBG" id="modal_ShowMaps">
        <div  class="uk-modal-dialog uk-modal-dialog-large transparentBG">
            <div class="md-card-content" >
               <form>
                    <div style="text-align:center">
                        <h2 style="font-family: Avenir-Heavy; color: #FED235;line-height: 22px;"> Select Your Country </h2>
                        <hr>
                    </div>
               </form>
            </div>
                <div id="worldmap"></div>
            
        </div>
    </div>



    <!-- common functions -->
    <script src="assets/js/common.min.js"></script>
    <!-- altair core functions -->
    <script src="assets/js/altair_admin_common.min.js"></script>
    <!-- uikit functions -->
    <script src="assets/js/uikit_custom.min.js"></script>
    <!-- altair login page functions -->
    <script src="assets/js/pages/login.min.js"></script>

    <script src="assets/js/appUrl.js"></script>
    <script src="assets/js/validationCheck.js"></script>
    <script src="assets/js/jquery.twism.js"></script>

    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async></script>

    <script>
        var OneSignal = OneSignal || [];

        OneSignal.push(["init", {
            path: "/",
            appId: "9dd76f98-6d88-11e5-b689-bfe5f95de649",
            safari_web_id: "web.onesignal.auto.63749170-9b18-4e2b-ba12-fbd09a76fb84",
            autoRegister: true,
            subdomainName: "myRequestAdmin",
            notifyButton: {
                enable: true,
                theme: 'inverse',
                prenotify: true,
                showCredit: false,
                text: {
                    'dialog.main.title': 'myRequest OnDemand Notifications'
                }
            }
        }]);

        $(".push-notification-icon-default").append("<img src='logo.png'></img>");
    </script>

    <style>
        #onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button.action {
            background: #FDD147;
            color: #3C3C3C;
        }
        
        #onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button.action:hover {
            background: #FDD147;
            color: #3C3C3C;
        }
        
        #onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .foreground {
            fill: #FDD147;
        }
    </style>
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-65191727-1', 'auto');
        ga('send', 'pageview');
        var modalMap;

        $(document).ready(function() {
            localStorage.clear();
             $('#worldmap').twism("create", 
                {
                    map: "world",
                    border: "red",
                    disableCountries: ['ar','au'],
                    individualCountrySettings: [{
                    
                    }]
                }, function() {
                    //callback function after map loads
                    $('#worldmap').twism("setCountry");
            });
            var subscribe = localStorage.getItem("isSubscribe");
            modalMap = UIkit.modal("#modal_ShowMaps", {
                bgclose: false,
                keyboard: true,
                center: false
            });
            modalMap.show();
            //console.log(subscribe); 
            /*if (subscribe == "" || subscribe == null || subscribe == "null") {
                $("#btnSubscribe").show();
            } else {
                $("#btnSubscribe").hide();
            }*/
        });
         $("#selectedCountry").click(function() {
             modalMap.show();
         });

        $("#btnForgetPassword").click(function() {

            var modal = UIkit.modal("#modal_ForgetPassword");
            modal.show();
        });


        $("#btnResetPassword").click(function() {
            var modal = UIkit.modal("#modal_ForgetPassword");

            var getAdminPassword = $("#login_EmailReset").val();

            if (!isValidEmailAddress(getAdminPassword)) {
                $(".alert-danger").show();
                $(".alert-danger").text("* Please Enter the Proper Email ID");
                $("#login_EmailReset").css("border-color", "red");
                $(".btnResetPassword").attr("disabled", true);
                return false;
            }
            $.get(domainAddress + "adminForgotPassword/" + getAdminPassword, function(e) {
                console.log(e);
                if(e.IsSuccess==0){
                    alert("Please Check the EmailID Provided");
                    return false;
                }
                else{
                    $("#login_EmailReset").val('');
                    modal.hide();
                    UIkit.modal.alert(e.message_text);
                }
            });
            
        });

        $("#login_email").keyup(function() {
            var login_email = $("#login_email").val();
            if (login_email == "") {
                $(".alert-danger").show();
                $(".alert-danger").text("Enter the Email");
            } else {
                $(".alert-danger").hide();
                $(".alert-danger").text("");
            }
        });


        $("#login_password").keyup(function() {
            var login_password = $("#login_password").val();
            if (login_password == "") {
                $(".alert-danger").show();
                $(".alert-danger").text("Enter the User Password");
            } else {
                $(".alert-danger").hide();
                $(".alert-danger").text("");
            }
        });

        $("#login_password").bind('keypress', function(e) {
            var code = (e.keyCode ? e.keyCode : e.which);
            //console.log("trigger outside "+code);
            if (code == 13) { //Enter keycode for User Login
                //console.log("trigger insided");
                callLogin();

            }
        });


        $("#btnLogin").click(function() {
            callLogin();
        });

        function selectedCountry(state){
           var countryCode, gmt, phoneCode;
           console.log(state);
            if (state === "in" || state === "us" || state === "gb" || state === "ca") {
                $("#selectedCountry").prop("src","assets/img/Country/"+state+".png")
                switch(state){
                    case "in":
                        countryCode="India";
                        gmt ="GMT+5:30";
                        phoneCode="+91";
                        break;
                    case "gb":
                        countryCode="UK";
                        gmt ="GMT+0:00";
                        phoneCode="+44";
                        break;
                    case "ca":
                        countryCode="Canada";
                        gmt ="GMT-5:00";
                        phoneCode="+1";
                        break;
                    case "us":
                        countryCode="US";
                        gmt ="GMT-5:00";
                        phoneCode="+1";
                        break;
                }

               UIkit.modal.confirm("Your Selected Country is : "+countryCode, function(){
                    // will be executed on confirm.
                    localStorage.setItem("MyRequest_countryCode",countryCode);
                    localStorage.setItem("MyRequest_PhoneCode",phoneCode);
                    localStorage.setItem("MyRequest_GMT",gmt);
                    modalMap.hide();
                },[]);

              
            }
            else {
              UIkit.modal.alert("Please Contact Our Sales team");
            }
        }
        function callLogin() {
            console.log("Enter Login");
            var emailID = $("#login_email").val();
            var password = $("#login_password").val();
            console.log(emailID + " " + password);

            if (emailID == "" && password == "") {
                $(".alert-danger").show();
                $(".alert-danger").text("* Enter the EmailID & Password");
                return false;
            }

            if (emailID == "") {
                $(".alert-danger").show();
                $(".alert-danger").text("* Enter the EmailID");
                return false;
            }
            
           if (password == "") {
                $(".alert-danger").show();
                $(".alert-danger").text("* Enter the Password");
                return false;
            } else {
                var userTokenId = "";
                validationCheckForLogin(emailID, password, userTokenId);
                // OneSignal.push(["getUserId", function(userTokenId) {
                     
                //     console.log("OneSignal User ID:", userTokenId);
                //     validationCheckForLogin(emailID, password, userTokenId);
                //  }]);
              
            }
        } // callLogin()
    </script>
</body>

</html>